



<!DOCTYPE html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Site web décentralisé utilisant Bitcoin crypto et BitTorrent protocole">
      
      
        <link rel="canonical" href="https://github.com/HelloZeroNet/ZeroNet/fr/site_development/zeroframe_api_reference/">
      
      
      
        <meta name="lang:clipboard.copy" content="Copier dans le presse-papier">
      
        <meta name="lang:clipboard.copied" content="Copié dans le presse-papier">
      
        <meta name="lang:search.language" content="fr">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="Aucun document trouvé">
      
        <meta name="lang:search.result.one" content="1 document trouvé">
      
        <meta name="lang:search.result.other" content="# documents trouvés">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../logo/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.1.0">
    
    
      
        <title>ZeroFrame API Reference - ZeroNet</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.11e41852.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../../../assets/javascripts/modernizr.20ef595d.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../../docs.css">
    
      <link rel="stylesheet" href="../../../stylesheets/menu.css">
    
      <link rel="stylesheet" href="../../../stylesheets/bitcoinbar.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="deep-purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#zeroframe-api-reference" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://github.com/HelloZeroNet/ZeroNet" title="ZeroNet" class="md-header-nav__button md-logo">
          
            <img src="../../../logo/zeronet_logo.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ZeroNet
              </span>
              <span class="md-header-nav__topic">
                ZeroFrame API Reference
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Taper pour démarrer la recherche
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/HelloZeroNet/ZeroNet/" title="Aller au dépôt" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
      <div class="md-flex__cell md-flex__cell--shrink">
        <div class="md-header-nav__source">
          <div class="md-source" style="cursor: pointer;">
            <div id="translation" class="md-source__icon" onClick="translationClicked(event)">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
               <path fill="white" d="M18.604 16.111c.018.276.048.531.092.758-.583.106-.606-.469-.092-.758zm-4.354.16h.996l-.498-1.43-.498 1.43zm2.75-6.105c3.697 0 7 2.465 7 5.837 0 1.196-.432 2.37-1.193 3.281-.033 1.068.596 2.6 1.162 3.715-1.518-.274-3.676-.88-4.654-1.48-5.387 1.313-9.315-1.984-9.315-5.516 0-3.39 3.326-5.837 7-5.837zm-.437 7.584l-1.44-3.792h-.76l-1.447 3.792h.812l.312-.875h1.422l.313.875h.788zm3.988-2.296l.079-.353-.642-.125-.064.292c-.215-.032-.445-.036-.679-.012l.028-.458h.717v-.608h-.631l.084-.335-.627-.188c-.046.154-.084.304-.123.523h-.715v.608h.638c-.018.196-.026.399-.03.605-.704.259-1.002.751-1.002 1.198 0 .528.416.992 1.074.932.817-.074 1.362-.691 1.682-1.45.332.19.471.511.346.807-.115.275-.455.536-1.104.523v.654c.721.011 1.429-.262 1.707-.923.27-.647-.041-1.352-.738-1.69zm-1.25 1.073c.17-.177.305-.401.407-.626-.147-.013-.306-.009-.462.012.011.22.028.425.055.614zm-10.492 2.703c-1.887-.271-3.571-1.165-4.827-2.478-.182-.189-.315-.636-.019-.819l.302-.078c.235-.199-.221-1.009-.04-1.14.561-.401.295-.893-.051-1.299-.146-.172-.948-1-1.038-.853.067-.226-.146-.772-.274-.987-.217-.362-.502-.585-.617-.982-.046-.158-.046-.64-.139-.751-.038-.045-.327-.167-.317-.233.278-1.655 1.044-3.143 2.149-4.318l.746-.301c.468-.703.495-.158.916-.341.141 0 .301-.578.452-.667.261-.169.062-.169.013-.245-.104-.168 2.191-1.003 2.229-.853.032.127-1.135.734-1.007.716-.296.039-.352.571-.297.568.147-.005 1.074-.704 1.506-.555.423.146 1.183-.336 1.48-.582.149-.125.286-.344.483-.344.909 0 2.268.374 2.579.56.474.283-.204.263-.277.447-.058.142-.19.335-.249.412-.102.133-.399.077-.341-.082.059-.167.348-.231-.086-.271-.445-.041-.568-.341-1.014.034-.134.113-.234.286-.321.433-.123.21-.42.201-.544.396-.12.192.07.512.304.371.062-.038.765.645.674.095-.059-.364.196-.612.201-.887.003-.184.28-.066.206.03-.097.121-.203.534.051.554.096.008.339-.158.425-.084-.096-.002-.315.383-.3.376-.108.048-.233-.021-.15.21.074.228-.408.201-.495.247-.037.02-.417-.114-.408-.028-.131-.109.037-.379-.072-.422-.11.168-.058.512-.294.512-.202 0-.482.229-.604.369-.087.097-.609.308-.666.302.299.031.286.25.261.437-.06.433-.995.032-.956.196.038.158-.107.586-.139.724-.029.125.402.205.378.267.002-.007.583-.199.64-.25l.131-.293c.11-.073.226-.133.35-.179l.149-.258c.05-.02.645-.112.686-.092.149.068.428.353.532.483.036.047.227.117.227.188.069.107-.051.148-.006.223.104.193.132-.401.087-.29 0-.189.142.071.174.049l-.657-.654c-.204-.342.543.183.64.247.096.063.285.629.537.501.158-.08-.004-.139.106-.229l.449-.09c-.357.261.279.602.182.556.16.074.254-.058.354-.021.057.022.663.015.566-.082.151.076.082.748-.044.851-.204.169-1.182.1-1.399-.057-.361-.262-.297.279-.473.352-.344.142-.857-.463-1.218-.482.176.026.015-.445.015-.478-.139-.171-1.02.019-1.252.05-.434.058-.89.052-1.223.324-.234.189-.237.5-.477.651-.156.095-.325.064-.456.189-.234.222-.504.552-.637.845-.054.123.072.416.041.574-.307.967.076 2.308 1.248 2.456.25.032.506.144.759.117 1.332-2.88 4.568-4.92 8.347-4.92.932 0 1.831.124 2.678.354-1.105-4.322-5.012-7.521-9.678-7.521-5.523 0-10 4.477-10 10s4.477 10 10 10l.074-.004c-.509-.533-.931-1.128-1.265-1.766zm4.778-13.035c.068-.008-.089.138-.089.138.027.212.183.327.479.435.36.129.03.375-.176.317-.114-.032-.704-.21-.725.021 0 .138-.56.001-.473-.145.061-.098.041-.319.152-.464.16-.21.313-.096.318.026.002.327.332-.306.514-.328zm-4.532-.292c.08.113.688-.163.591-.146.187-.094.024-.104-.082-.159-.035-.179-.065-.456-.177-.566l.074-.085c-.173-.249-.301.302-.301.302l.09-.026-.042.113c.071.129.019.207.007.277l-.124.077c-.045.055.215.062.217.071.009.028-.313.074-.253.142zm-.396-.286c-.069.071.002.116.073.085.104-.045.244-.044.26-.183l.066-.084c.029-.043-.057-.114-.092-.121l-.124.086-.061.016-.056.072.006.04-.072.089zm2.634 2.107c-.055 0-.369.029-.34.084.178.293.403-.076.34-.084z"></path>
              </svg>
              <span style="text-transform: uppercase;">fr</span>
              <svg id="menuDropUp" style="margin-left:0; display: none;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 14l5-5 5 5z" fill="white"/><path d="M0 0h24v24H0z" fill="none"/></svg>
              <svg id="menuDropDown" style="margin-left:0;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M7 10l5 5 5-5z" fill="white"/><path d="M0 0h24v24H0z" fill="none"/></svg>
            </div>
          </div>
          <div id="translationMenu" style="display: none;" class="md-menu" tabindex="-1">
            <ul class="md-list" role="menu" aria-hidden="true" aria-orientation="vertical">
              <li class="md-list-item" role="menuitem">
                <a class="md-list-item__text" href="" onClick="goToTranslation(event, 'fr' ,'en')">English</a>
              </li>
              <li class="md-list-item" role="menuitem">
                <a class="md-list-item__text" href="" onClick="goToTranslation(event, 'fr' ,'fr')">Français</a>
              </li>
              <span class="md-divider"></span>
              <li class="md-list-item" role="menuitem">
                <a class="md-list-item__text" href="/fr/translation">Translation HowTo</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../../" title="Introduction" class="md-tabs__link">
        Introduction
      </a>
    
  </li>

      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../using_zeronet/installing/" title="Commencer à utiliser ZeroNet" class="md-tabs__link">
          Commencer à utiliser ZeroNet
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../getting_started/" title="Commencer à déveloper" class="md-tabs__link md-tabs__link--active">
          Commencer à déveloper
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../help_zeronet/contributing/" title="Contribuer à ZeroNet" class="md-tabs__link">
          Contribuer à ZeroNet
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://github.com/HelloZeroNet/ZeroNet" title="ZeroNet" class="md-nav__button md-logo">
      
        <img src="../../../logo/zeronet_logo.svg" width="48" height="48">
      
    </a>
    ZeroNet
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/HelloZeroNet/ZeroNet/" title="Aller au dépôt" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="Questions Fréquentes" class="md-nav__link">
      Questions Fréquentes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Commencer à utiliser ZeroNet
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Commencer à utiliser ZeroNet
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../using_zeronet/installing/" title="Installing ZeroNet" class="md-nav__link">
      Installing ZeroNet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../using_zeronet/sample_sites/" title="Sample ZeroNet sites" class="md-nav__link">
      Sample ZeroNet sites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../using_zeronet/create_new_site/" title="Create new ZeroNet site" class="md-nav__link">
      Create new ZeroNet site
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Commencer à déveloper
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Commencer à déveloper
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../getting_started/" title="Commencer" class="md-nav__link">
      Commencer
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        ZeroFrame API Reference
      </label>
    
    <a href="./" title="ZeroFrame API Reference" class="md-nav__link md-nav__link--active">
      ZeroFrame API Reference
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table des matières</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-zeroframe-api" title="The ZeroFrame API" class="md-nav__link">
    The ZeroFrame API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrapper" title="Wrapper" class="md-nav__link">
    Wrapper
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wrapperconfirm" title="wrapperConfirm" class="md-nav__link">
    wrapperConfirm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperinnerloaded" title="wrapperInnerLoaded" class="md-nav__link">
    wrapperInnerLoaded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappergetlocalstorage" title="wrapperGetLocalStorage" class="md-nav__link">
    wrapperGetLocalStorage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappergetstate" title="wrapperGetState" class="md-nav__link">
    wrapperGetState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappergetajaxkey" title="wrapperGetAjaxKey" class="md-nav__link">
    wrapperGetAjaxKey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappernotification" title="wrapperNotification" class="md-nav__link">
    wrapperNotification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperopenwindow" title="wrapperOpenWindow" class="md-nav__link">
    wrapperOpenWindow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperpermissionadd" title="wrapperPermissionAdd" class="md-nav__link">
    wrapperPermissionAdd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperprompt" title="wrapperPrompt" class="md-nav__link">
    wrapperPrompt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperpushstate" title="wrapperPushState" class="md-nav__link">
    wrapperPushState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperreplacestate" title="wrapperReplaceState" class="md-nav__link">
    wrapperReplaceState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperrequestfullscreen" title="wrapperRequestFullscreen" class="md-nav__link">
    wrapperRequestFullscreen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappersetlocalstorage" title="wrapperSetLocalStorage" class="md-nav__link">
    wrapperSetLocalStorage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappersettitle" title="wrapperSetTitle" class="md-nav__link">
    wrapperSetTitle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappersetviewport" title="wrapperSetViewport" class="md-nav__link">
    wrapperSetViewport
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uiserver" title="UiServer" class="md-nav__link">
    UiServer
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#announcerinfo" title="announcerInfo" class="md-nav__link">
    announcerInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certadd" title="certAdd" class="md-nav__link">
    certAdd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certselect" title="certSelect" class="md-nav__link">
    certSelect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channeljoin" title="channelJoin" class="md-nav__link">
    channelJoin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbquery" title="dbQuery" class="md-nav__link">
    dbQuery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dirlist" title="dirList" class="md-nav__link">
    dirList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filedelete" title="fileDelete" class="md-nav__link">
    fileDelete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fileget" title="fileGet" class="md-nav__link">
    fileGet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filelist" title="fileList" class="md-nav__link">
    fileList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fileneed" title="fileNeed" class="md-nav__link">
    fileNeed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filequery" title="fileQuery" class="md-nav__link">
    fileQuery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filerules" title="fileRules" class="md-nav__link">
    fileRules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filewrite" title="fileWrite" class="md-nav__link">
    fileWrite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ping" title="ping" class="md-nav__link">
    ping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serverinfo" title="serverInfo" class="md-nav__link">
    serverInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siteinfo" title="siteInfo" class="md-nav__link">
    siteInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitepublish" title="sitePublish" class="md-nav__link">
    sitePublish
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitereload" title="siteReload" class="md-nav__link">
    siteReload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitesign" title="siteSign" class="md-nav__link">
    siteSign
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siteupdate" title="siteUpdate" class="md-nav__link">
    siteUpdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usergetsettings" title="userGetSettings" class="md-nav__link">
    userGetSettings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usersetsettings" title="userSetSettings" class="md-nav__link">
    userSetSettings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-bigfile" title="Plugin: Bigfile" class="md-nav__link">
    Plugin: Bigfile
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bigfileuploadinit" title="BigfileUploadInit" class="md-nav__link">
    BigfileUploadInit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-chart" title="Plugin: Chart" class="md-nav__link">
    Plugin: Chart
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chartdbquery" title="chartDbQuery" class="md-nav__link">
    chartDbQuery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chartgetpeerlocations" title="chartGetPeerLocations" class="md-nav__link">
    chartGetPeerLocations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-cors" title="Plugin: Cors" class="md-nav__link">
    Plugin: Cors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#corspermission" title="corsPermission" class="md-nav__link">
    corsPermission
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-cryptmessage" title="Plugin: CryptMessage" class="md-nav__link">
    Plugin: CryptMessage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#userpublickey" title="userPublickey" class="md-nav__link">
    userPublickey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eciesencrypt" title="eciesEncrypt" class="md-nav__link">
    eciesEncrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eciesdecrypt" title="eciesDecrypt" class="md-nav__link">
    eciesDecrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aesencrypt" title="aesEncrypt" class="md-nav__link">
    aesEncrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aesdecrypt" title="aesDecrypt" class="md-nav__link">
    aesDecrypt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-newsfeed" title="Plugin: Newsfeed" class="md-nav__link">
    Plugin: Newsfeed
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feedfollow" title="feedFollow" class="md-nav__link">
    feedFollow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feedlistfollow" title="feedListFollow" class="md-nav__link">
    feedListFollow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feedquery" title="feedQuery" class="md-nav__link">
    feedQuery
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-mergersite" title="Plugin: MergerSite" class="md-nav__link">
    Plugin: MergerSite
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mergersiteadd" title="mergerSiteAdd" class="md-nav__link">
    mergerSiteAdd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mergersitedelete" title="mergerSiteDelete" class="md-nav__link">
    mergerSiteDelete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mergersitelist" title="mergerSiteList" class="md-nav__link">
    mergerSiteList
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-mute" title="Plugin: Mute" class="md-nav__link">
    Plugin: Mute
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#muteadd" title="muteAdd" class="md-nav__link">
    muteAdd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#muteremove" title="muteRemove" class="md-nav__link">
    muteRemove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mutelist" title="muteList" class="md-nav__link">
    muteList
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-optionalmanager" title="Plugin: OptionalManager" class="md-nav__link">
    Plugin: OptionalManager
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optionalfilelist" title="optionalFileList" class="md-nav__link">
    optionalFileList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfileinfo" title="optionalFileInfo" class="md-nav__link">
    optionalFileInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfilepin" title="optionalFilePin" class="md-nav__link">
    optionalFilePin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfileunpin" title="optionalFileUnpin" class="md-nav__link">
    optionalFileUnpin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfiledelete" title="optionalFileDelete" class="md-nav__link">
    optionalFileDelete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionallimitstats" title="optionalLimitStats" class="md-nav__link">
    optionalLimitStats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionallimitset" title="optionalLimitSet" class="md-nav__link">
    optionalLimitSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalhelplist" title="optionalHelpList" class="md-nav__link">
    optionalHelpList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalhelp" title="optionalHelp" class="md-nav__link">
    optionalHelp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalhelpremove" title="optionalHelpRemove" class="md-nav__link">
    optionalHelpRemove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalhelpall" title="optionalHelpAll" class="md-nav__link">
    optionalHelpAll
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#admin-commands" title="Admin commands" class="md-nav__link">
    Admin commands
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#as" title="as" class="md-nav__link">
    as
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configset" title="configSet" class="md-nav__link">
    configSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certset" title="certSet" class="md-nav__link">
    certSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channeljoinallsite" title="channelJoinAllsite" class="md-nav__link">
    channelJoinAllsite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serverportcheck" title="serverPortcheck" class="md-nav__link">
    serverPortcheck
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#servershutdown" title="serverShutdown" class="md-nav__link">
    serverShutdown
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serverupdate" title="serverUpdate" class="md-nav__link">
    serverUpdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siteclone" title="siteClone" class="md-nav__link">
    siteClone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitelist" title="siteList" class="md-nav__link">
    siteList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitepause" title="sitePause" class="md-nav__link">
    sitePause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siteresume" title="siteResume" class="md-nav__link">
    siteResume
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../content_json/" title="Structure of content.json" class="md-nav__link">
      Structure of content.json
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dbschema_json/" title="Structure of dbschema.json" class="md-nav__link">
      Structure of dbschema.json
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cert_authority/" title="Certificate Authority" class="md-nav__link">
      Certificate Authority
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Contribuer à ZeroNet
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Contribuer à ZeroNet
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../help_zeronet/contributing/" title="Contributing to ZeroNet" class="md-nav__link">
      Contributing to ZeroNet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../help_zeronet/coding_conventions/" title="Coding standards if you want to collaborate to ZeroNet" class="md-nav__link">
      Coding standards if you want to collaborate to ZeroNet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../help_zeronet/network_protocol/" title="ZeroNet network protocol" class="md-nav__link">
      ZeroNet network protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../help_zeronet/donate/" title="Contribution financière" class="md-nav__link">
      Contribution financière
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table des matières</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-zeroframe-api" title="The ZeroFrame API" class="md-nav__link">
    The ZeroFrame API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wrapper" title="Wrapper" class="md-nav__link">
    Wrapper
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wrapperconfirm" title="wrapperConfirm" class="md-nav__link">
    wrapperConfirm
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperinnerloaded" title="wrapperInnerLoaded" class="md-nav__link">
    wrapperInnerLoaded
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappergetlocalstorage" title="wrapperGetLocalStorage" class="md-nav__link">
    wrapperGetLocalStorage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappergetstate" title="wrapperGetState" class="md-nav__link">
    wrapperGetState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappergetajaxkey" title="wrapperGetAjaxKey" class="md-nav__link">
    wrapperGetAjaxKey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappernotification" title="wrapperNotification" class="md-nav__link">
    wrapperNotification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperopenwindow" title="wrapperOpenWindow" class="md-nav__link">
    wrapperOpenWindow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperpermissionadd" title="wrapperPermissionAdd" class="md-nav__link">
    wrapperPermissionAdd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperprompt" title="wrapperPrompt" class="md-nav__link">
    wrapperPrompt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperpushstate" title="wrapperPushState" class="md-nav__link">
    wrapperPushState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperreplacestate" title="wrapperReplaceState" class="md-nav__link">
    wrapperReplaceState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrapperrequestfullscreen" title="wrapperRequestFullscreen" class="md-nav__link">
    wrapperRequestFullscreen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappersetlocalstorage" title="wrapperSetLocalStorage" class="md-nav__link">
    wrapperSetLocalStorage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappersettitle" title="wrapperSetTitle" class="md-nav__link">
    wrapperSetTitle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wrappersetviewport" title="wrapperSetViewport" class="md-nav__link">
    wrapperSetViewport
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uiserver" title="UiServer" class="md-nav__link">
    UiServer
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#announcerinfo" title="announcerInfo" class="md-nav__link">
    announcerInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certadd" title="certAdd" class="md-nav__link">
    certAdd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certselect" title="certSelect" class="md-nav__link">
    certSelect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channeljoin" title="channelJoin" class="md-nav__link">
    channelJoin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbquery" title="dbQuery" class="md-nav__link">
    dbQuery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dirlist" title="dirList" class="md-nav__link">
    dirList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filedelete" title="fileDelete" class="md-nav__link">
    fileDelete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fileget" title="fileGet" class="md-nav__link">
    fileGet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filelist" title="fileList" class="md-nav__link">
    fileList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fileneed" title="fileNeed" class="md-nav__link">
    fileNeed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filequery" title="fileQuery" class="md-nav__link">
    fileQuery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filerules" title="fileRules" class="md-nav__link">
    fileRules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filewrite" title="fileWrite" class="md-nav__link">
    fileWrite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ping" title="ping" class="md-nav__link">
    ping
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serverinfo" title="serverInfo" class="md-nav__link">
    serverInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siteinfo" title="siteInfo" class="md-nav__link">
    siteInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitepublish" title="sitePublish" class="md-nav__link">
    sitePublish
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitereload" title="siteReload" class="md-nav__link">
    siteReload
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitesign" title="siteSign" class="md-nav__link">
    siteSign
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siteupdate" title="siteUpdate" class="md-nav__link">
    siteUpdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usergetsettings" title="userGetSettings" class="md-nav__link">
    userGetSettings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usersetsettings" title="userSetSettings" class="md-nav__link">
    userSetSettings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-bigfile" title="Plugin: Bigfile" class="md-nav__link">
    Plugin: Bigfile
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bigfileuploadinit" title="BigfileUploadInit" class="md-nav__link">
    BigfileUploadInit
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-chart" title="Plugin: Chart" class="md-nav__link">
    Plugin: Chart
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chartdbquery" title="chartDbQuery" class="md-nav__link">
    chartDbQuery
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chartgetpeerlocations" title="chartGetPeerLocations" class="md-nav__link">
    chartGetPeerLocations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-cors" title="Plugin: Cors" class="md-nav__link">
    Plugin: Cors
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#corspermission" title="corsPermission" class="md-nav__link">
    corsPermission
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-cryptmessage" title="Plugin: CryptMessage" class="md-nav__link">
    Plugin: CryptMessage
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#userpublickey" title="userPublickey" class="md-nav__link">
    userPublickey
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eciesencrypt" title="eciesEncrypt" class="md-nav__link">
    eciesEncrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eciesdecrypt" title="eciesDecrypt" class="md-nav__link">
    eciesDecrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aesencrypt" title="aesEncrypt" class="md-nav__link">
    aesEncrypt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aesdecrypt" title="aesDecrypt" class="md-nav__link">
    aesDecrypt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-newsfeed" title="Plugin: Newsfeed" class="md-nav__link">
    Plugin: Newsfeed
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#feedfollow" title="feedFollow" class="md-nav__link">
    feedFollow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feedlistfollow" title="feedListFollow" class="md-nav__link">
    feedListFollow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#feedquery" title="feedQuery" class="md-nav__link">
    feedQuery
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-mergersite" title="Plugin: MergerSite" class="md-nav__link">
    Plugin: MergerSite
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mergersiteadd" title="mergerSiteAdd" class="md-nav__link">
    mergerSiteAdd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mergersitedelete" title="mergerSiteDelete" class="md-nav__link">
    mergerSiteDelete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mergersitelist" title="mergerSiteList" class="md-nav__link">
    mergerSiteList
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-mute" title="Plugin: Mute" class="md-nav__link">
    Plugin: Mute
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#muteadd" title="muteAdd" class="md-nav__link">
    muteAdd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#muteremove" title="muteRemove" class="md-nav__link">
    muteRemove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mutelist" title="muteList" class="md-nav__link">
    muteList
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-optionalmanager" title="Plugin: OptionalManager" class="md-nav__link">
    Plugin: OptionalManager
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#optionalfilelist" title="optionalFileList" class="md-nav__link">
    optionalFileList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfileinfo" title="optionalFileInfo" class="md-nav__link">
    optionalFileInfo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfilepin" title="optionalFilePin" class="md-nav__link">
    optionalFilePin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfileunpin" title="optionalFileUnpin" class="md-nav__link">
    optionalFileUnpin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalfiledelete" title="optionalFileDelete" class="md-nav__link">
    optionalFileDelete
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionallimitstats" title="optionalLimitStats" class="md-nav__link">
    optionalLimitStats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionallimitset" title="optionalLimitSet" class="md-nav__link">
    optionalLimitSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalhelplist" title="optionalHelpList" class="md-nav__link">
    optionalHelpList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalhelp" title="optionalHelp" class="md-nav__link">
    optionalHelp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalhelpremove" title="optionalHelpRemove" class="md-nav__link">
    optionalHelpRemove
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optionalhelpall" title="optionalHelpAll" class="md-nav__link">
    optionalHelpAll
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#admin-commands" title="Admin commands" class="md-nav__link">
    Admin commands
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#as" title="as" class="md-nav__link">
    as
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configset" title="configSet" class="md-nav__link">
    configSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#certset" title="certSet" class="md-nav__link">
    certSet
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channeljoinallsite" title="channelJoinAllsite" class="md-nav__link">
    channelJoinAllsite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serverportcheck" title="serverPortcheck" class="md-nav__link">
    serverPortcheck
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#servershutdown" title="serverShutdown" class="md-nav__link">
    serverShutdown
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#serverupdate" title="serverUpdate" class="md-nav__link">
    serverUpdate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siteclone" title="siteClone" class="md-nav__link">
    siteClone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitelist" title="siteList" class="md-nav__link">
    siteList
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sitepause" title="sitePause" class="md-nav__link">
    sitePause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siteresume" title="siteResume" class="md-nav__link">
    siteResume
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/HelloZeroNet/Documentation/edit/master/docs/fr/site_development/zeroframe_api_reference.md" title="Editer cette page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="zeroframe-api-reference">ZeroFrame API Reference<a class="headerlink" href="#zeroframe-api-reference" title="Permanent link">&para;</a></h1>
<h2 id="the-zeroframe-api">The ZeroFrame API<a class="headerlink" href="#the-zeroframe-api" title="Permanent link">&para;</a></h2>
<p>ZeroFrame is an API that allows ZeroNet websites to interact with the ZeroNet daemon. It allows sites to save/retrieve files, publish changes and many other things. A copy of the library is included at <code>js/ZeroFrame.js</code> whenever a new site is created.</p>
<p>The library can be imported like any other JavaScript file, or site developers also have the option of <a href="ZeroFrame API Page, ##Import?">importing through NPM</a>. Please see the <a href="">ZeroFrame API Reference</a> for API details.</p>
<h2 id="wrapper">Wrapper<a class="headerlink" href="#wrapper" title="Permanent link">&para;</a></h2>
<p><em>These commands are handled by the wrapper frame and are thus not sent to the UiServer using websocket.</em></p>
<h3 id="wrapperconfirm">wrapperConfirm<a class="headerlink" href="#wrapperconfirm" title="Permanent link">&para;</a></h3>
<p>Display a notification with confirm button</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>message</strong></td>
<td>The message you want to display</td>
</tr>
<tr>
<td><strong>button_caption</strong> (optional)</td>
<td>Caption of the confirmation button (default: OK)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: True if clicked on button</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Delete site</span>
<span class="nv">siteDelete: </span><span class="nf">(address) -&gt;</span>
    <span class="nv">site = </span><span class="nx">@sites</span><span class="p">[</span><span class="nx">address</span><span class="p">]</span>
    <span class="nv">title = </span><span class="nx">site</span><span class="p">.</span><span class="nx">content</span><span class="p">.</span><span class="nx">title</span>
    <span class="k">if</span> <span class="nx">title</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">40</span>
        <span class="nv">title = </span><span class="nx">title</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span><span class="o">+</span><span class="s">&quot;...&quot;</span><span class="o">+</span><span class="nx">title</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="nx">title</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">10</span><span class="p">)</span>
    <span class="nx">@cmd</span> <span class="s">&quot;wrapperConfirm&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;Are you sure you sure? &lt;b&gt;</span><span class="si">#{</span><span class="nx">title</span><span class="si">}</span><span class="s">&lt;/b&gt;&quot;</span><span class="p">,</span> <span class="s">&quot;Delete&quot;</span><span class="p">],</span> <span class="nf">(confirmed) =&gt;</span>
        <span class="nx">@log</span> <span class="s">&quot;Deleting </span><span class="si">#{</span><span class="nx">site</span><span class="p">.</span><span class="nx">address</span><span class="si">}</span><span class="s">...&quot;</span><span class="p">,</span> <span class="nx">confirmed</span>
        <span class="k">if</span> <span class="nx">confirmed</span>
            <span class="nx">$</span><span class="p">(</span><span class="s">&quot;.site-</span><span class="si">#{</span><span class="nx">site</span><span class="p">.</span><span class="nx">address</span><span class="si">}</span><span class="s">&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s">&quot;deleted&quot;</span><span class="p">)</span>
            <span class="nx">@cmd</span> <span class="s">&quot;siteDelete&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;address&quot;</span><span class="o">:</span> <span class="nx">address</span><span class="p">}</span>
</pre></div>


<hr />
<h3 id="wrapperinnerloaded">wrapperInnerLoaded<a class="headerlink" href="#wrapperinnerloaded" title="Permanent link">&para;</a></h3>
<p>Applies the windows.location.hash to page url. Call when you page is fully loaded to jump to the desired anchor point.</p>
<hr />
<h3 id="wrappergetlocalstorage">wrapperGetLocalStorage<a class="headerlink" href="#wrappergetlocalstorage" title="Permanent link">&para;</a></h3>
<p><strong>Return</strong>: Browser's local store for the site</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;wrapperGetLocalStorage&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="nf">(res) =&gt;</span>
    <span class="nx">res</span> <span class="o">?=</span> <span class="p">{}</span>
    <span class="nx">@log</span> <span class="s">&quot;Local storage value:&quot;</span><span class="p">,</span> <span class="nx">res</span>
</pre></div>


<hr />
<h3 id="wrappergetstate">wrapperGetState<a class="headerlink" href="#wrappergetstate" title="Permanent link">&para;</a></h3>
<p><strong>Return</strong>: Browser's current history state object</p>
<hr />
<h3 id="wrappergetajaxkey">wrapperGetAjaxKey<a class="headerlink" href="#wrappergetajaxkey" title="Permanent link">&para;</a></h3>
<p><strong>Return</strong>: The key you need to initilize ajax requests</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">ajax_key</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">page</span><span class="p">.</span><span class="nx">cmdp</span><span class="p">(</span><span class="s2">&quot;wrapperGetAjaxKey&quot;</span><span class="p">)</span>
<span class="nx">req</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">window</span><span class="p">.</span><span class="nx">XMLHttpRequest</span><span class="p">()</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;content.json?ajax_key=&quot;</span> <span class="o">+</span> <span class="nx">ajax_key</span><span class="p">)</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">setRequestHeader</span><span class="p">(</span><span class="s2">&quot;Range&quot;</span><span class="p">,</span> <span class="s2">&quot;bytes=10-200&quot;</span><span class="p">)</span>  <span class="c1">// Optional: only if you want request partial file</span>
<span class="nx">req</span><span class="p">.</span><span class="nx">send</span><span class="p">()</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">response</span><span class="p">)</span>
</pre></div>


<hr />
<h3 id="wrappernotification">wrapperNotification<a class="headerlink" href="#wrappernotification" title="Permanent link">&para;</a></h3>
<p>Display a notification</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>type</strong></td>
<td>Possible values: info, error, done</td>
</tr>
<tr>
<td><strong>message</strong></td>
<td>The message you want to display</td>
</tr>
<tr>
<td><strong>timeout</strong> (optional)</td>
<td>Hide display after this interval (milliseconds)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;wrapperNotification&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;done&quot;</span><span class="p">,</span> <span class="s">&quot;Your registration has been sent!&quot;</span><span class="p">,</span> <span class="mi">10000</span><span class="p">]</span>
</pre></div>


<hr />
<h3 id="wrapperopenwindow">wrapperOpenWindow<a class="headerlink" href="#wrapperopenwindow" title="Permanent link">&para;</a></h3>
<p>Navigates or opens a new popup window.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>url</strong></td>
<td>Url of the opened page</td>
</tr>
<tr>
<td><strong>target</strong> (optional)</td>
<td>Target window name</td>
</tr>
<tr>
<td><strong>specs</strong> (optional)</td>
<td>Special properties of the window (see: <a href="http://www.w3schools.com/jsref/met_win_open.asp">window.open specs</a>)</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;wrapperOpenWindow&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;https://zeronet.io&quot;</span><span class="p">,</span> <span class="s">&quot;_blank&quot;</span><span class="p">,</span> <span class="s">&quot;width=550,height=600,location=no,menubar=no&quot;</span><span class="p">]</span>
</pre></div>


<hr />
<h3 id="wrapperpermissionadd">wrapperPermissionAdd<a class="headerlink" href="#wrapperpermissionadd" title="Permanent link">&para;</a></h3>
<p>Request new permission for site</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>permission</strong></td>
<td>Name of permission (eg. Merger:ZeroMe)</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="wrapperprompt">wrapperPrompt<a class="headerlink" href="#wrapperprompt" title="Permanent link">&para;</a></h3>
<p>Prompt text input from user</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>message</strong></td>
<td>The message you want to display</td>
</tr>
<tr>
<td><strong>type</strong> (optional)</td>
<td>Type of the input (default: text)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: Text entered to input</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Prompt the private key</span>
<span class="nx">@cmd</span> <span class="s">&quot;wrapperPrompt&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;Enter your private key:&quot;</span><span class="p">,</span> <span class="s">&quot;password&quot;</span><span class="p">],</span> <span class="nf">(privatekey) =&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s">&quot;.publishbar .button&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s">&quot;loading&quot;</span><span class="p">)</span>
    <span class="c1"># Send sign content.json and publish request to server</span>
    <span class="nx">@cmd</span> <span class="s">&quot;sitePublish&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">privatekey</span><span class="p">],</span> <span class="nf">(res) =&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="s">&quot;.publishbar .button&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s">&quot;loading&quot;</span><span class="p">)</span>
        <span class="nx">@log</span> <span class="s">&quot;Publish result:&quot;</span><span class="p">,</span> <span class="nx">res</span>
</pre></div>


<hr />
<h3 id="wrapperpushstate">wrapperPushState<a class="headerlink" href="#wrapperpushstate" title="Permanent link">&para;</a></h3>
<p>Change the url and adds new entry to browser's history. See: <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API#The_pushState()_method">pushState JS method</a></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>state</strong></td>
<td>State javascript object</td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>Title of the page</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td>Url of the page</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;wrapperPushState&quot;</span><span class="p">,</span> <span class="p">[{</span><span class="s">&quot;scrollY&quot;</span><span class="o">:</span> <span class="mi">100</span><span class="p">},</span> <span class="s">&quot;Profile page&quot;</span><span class="p">,</span> <span class="s">&quot;Profile&quot;</span><span class="p">]</span>
</pre></div>


<hr />
<h3 id="wrapperreplacestate">wrapperReplaceState<a class="headerlink" href="#wrapperreplacestate" title="Permanent link">&para;</a></h3>
<p>Change the url without adding new entry to browser's history. See: <a href="https://developer.mozilla.org/en-US/docs/Web/API/History_API#The_replaceState()_method">replaceState JS method</a></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>state</strong></td>
<td>State javascript object</td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>Title of the page</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td>Url of the page</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;wrapperReplaceState&quot;</span><span class="p">,</span> <span class="p">[{</span><span class="s">&quot;scrollY&quot;</span><span class="o">:</span> <span class="mi">100</span><span class="p">},</span> <span class="s">&quot;Profile page&quot;</span><span class="p">,</span> <span class="s">&quot;Profile&quot;</span><span class="p">]</span>
</pre></div>


<hr />
<h3 id="wrapperrequestfullscreen">wrapperRequestFullscreen<a class="headerlink" href="#wrapperrequestfullscreen" title="Permanent link">&para;</a></h3>
<p>Set the current page to fullscreen. (request permission for the site on first call)</p>
<blockquote>
<p><strong>Note:</strong> Starting from ZeroNet Rev3136 you can use the fullscreen javascript API directly, without fullscreen request</p>
</blockquote>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;wrapperRequestFullscreen&quot;</span><span class="p">)</span>
</pre></div>


<hr />
<h3 id="wrappersetlocalstorage">wrapperSetLocalStorage<a class="headerlink" href="#wrappersetlocalstorage" title="Permanent link">&para;</a></h3>
<p>Set browser's local store data stored for the site</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>data</strong></td>
<td>Any data structure you want to store for the site</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">local_storage</span><span class="p">[</span><span class="s">&quot;topic.</span><span class="si">#{</span><span class="nx">@topic_id</span><span class="si">}</span><span class="s">_</span><span class="si">#{</span><span class="nx">@topic_user_id</span><span class="si">}</span><span class="s">.visited&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nx">Time</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">()</span>
<span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span> <span class="s">&quot;wrapperSetLocalStorage&quot;</span><span class="p">,</span> <span class="nx">Page</span><span class="p">.</span><span class="nx">local_storage</span>
</pre></div>


<hr />
<h3 id="wrappersettitle">wrapperSetTitle<a class="headerlink" href="#wrappersettitle" title="Permanent link">&para;</a></h3>
<p>Set browser's title</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>title</strong></td>
<td>New browser tab title</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span> <span class="s">&quot;wrapperSetTitle&quot;</span><span class="p">,</span> <span class="s">&quot;newtitle&quot;</span>
</pre></div>


<hr />
<h3 id="wrappersetviewport">wrapperSetViewport<a class="headerlink" href="#wrappersetviewport" title="Permanent link">&para;</a></h3>
<p>Set sites's viewport meta tag content (required for mobile sites)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>viewport</strong></td>
<td>The viewport meta tag content</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Prompt the private key</span>
<span class="nx">@cmd</span> <span class="s">&quot;wrapperSetViewport&quot;</span><span class="p">,</span> <span class="s">&quot;width=device-width, initial-scale=1.0&quot;</span>
</pre></div>


<hr />
<h2 id="uiserver">UiServer<a class="headerlink" href="#uiserver" title="Permanent link">&para;</a></h2>
<p>The UiServer is for ZeroNet what the LAMP setup is for normal websites.</p>
<p>The UiServer will do all the 'backend' work (eg: querying the DB, accessing files, etc). This are the API calls you will need to make your site dynamic.</p>
<h3 id="announcerinfo">announcerInfo<a class="headerlink" href="#announcerinfo" title="Permanent link">&para;</a></h3>
<p>Tracker statistics for current site</p>
<p><strong>Return</strong>:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;stats&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;zero://45.77.23.92:15555&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;announced&quot;</span><span class="p">,</span>
            <span class="nt">&quot;num_success&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;time_last_error&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nt">&quot;time_status&quot;</span><span class="p">:</span> <span class="mf">1541776998.782</span><span class="p">,</span>
            <span class="nt">&quot;num_request&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nt">&quot;time_request&quot;</span><span class="p">:</span> <span class="mf">1541776996.884</span><span class="p">,</span>
            <span class="nt">&quot;num_error&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="err">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h3 id="certadd">certAdd<a class="headerlink" href="#certadd" title="Permanent link">&para;</a></h3>
<p>Add a new certificate to current user.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>domain</strong></td>
<td>Certificate issuer domain</td>
</tr>
<tr>
<td><strong>auth_type</strong></td>
<td>Auth type used on registration</td>
</tr>
<tr>
<td><strong>auth_user_name</strong></td>
<td>User name used on registration</td>
</tr>
<tr>
<td><strong>cert</strong></td>
<td>The cert itself: <code>auth_address#auth_type/auth_user_name</code> string signed by the cert site owner</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: "ok", "Not changed" or {"error": error_message}</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;certAdd&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;zeroid.bit&quot;</span><span class="p">,</span> <span class="nx">auth_type</span><span class="p">,</span> <span class="nx">user_name</span><span class="p">,</span> <span class="nx">cert_sign</span><span class="p">],</span> <span class="nf">(res) =&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s">&quot;.ui&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s">&quot;flipped&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">res</span><span class="p">.</span><span class="nx">error</span>
        <span class="nx">@cmd</span> <span class="s">&quot;wrapperNotification&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;error&quot;</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">#{</span><span class="nx">res</span><span class="p">.</span><span class="nx">error</span><span class="si">}</span><span class="s">&quot;</span><span class="p">]</span>
</pre></div>


<hr />
<h3 id="certselect">certSelect<a class="headerlink" href="#certselect" title="Permanent link">&para;</a></h3>
<p>Display certificate selector.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>accepted_domains</strong></td>
<td>List of domains that accepted by site as authorization provider</td>
</tr>
<tr>
<td><strong>accept_any</strong></td>
<td>Does not limits the accepted certificate providers</td>
</tr>
<tr>
<td><strong>accepted_pattern</strong></td>
<td>Regexp pattern for accepted certificate providers address</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;certSelect&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;accepted_domains&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s">&quot;zeroid.bit&quot;</span><span class="p">],</span> <span class="s">&quot;accepted_pattern&quot;</span><span class="o">:</span> <span class="s">&quot;1ZeroiD[0-9]&quot;</span><span class="p">}</span>
</pre></div>


<hr />
<h3 id="channeljoin">channelJoin<a class="headerlink" href="#channeljoin" title="Permanent link">&para;</a></h3>
<p>Request notifications about sites's events.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>channel</strong></td>
<td>Channel to join</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<p><strong>Channels</strong>:</p>
<ul>
<li><strong>siteChanged</strong> (joined by default)<br>Events: peers_added, file_started, file_done, file_failed</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="codehilite"><pre><span></span><span class="c1"># Wrapper websocket connection ready</span>
<span class="nv">onOpenWebsocket: </span><span class="nf">(e) =&gt;</span>
    <span class="nx">@cmd</span> <span class="s">&quot;channelJoinAllsite&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;channel&quot;</span><span class="o">:</span> <span class="s">&quot;siteChanged&quot;</span><span class="p">}</span>

<span class="c1"># Route incoming requests and messages</span>
<span class="nv">route: </span><span class="nf">(cmd, data) -&gt;</span>
    <span class="k">if</span> <span class="nx">cmd</span> <span class="o">==</span> <span class="s">&quot;setSiteInfo&quot;</span>
        <span class="nx">@log</span> <span class="s">&quot;Site changed&quot;</span><span class="p">,</span> <span class="nx">data</span>
    <span class="k">else</span>
        <span class="nx">@log</span> <span class="s">&quot;Unknown command&quot;</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">data</span>
</pre></div>


<p><strong>Example event data</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;tasks&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="nt">&quot;size_limit&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;address&quot;</span><span class="p">:</span><span class="s2">&quot;1RivERqttrjFqwp9YH1FviduBosQPtdBN&quot;</span><span class="p">,</span>
    <span class="nt">&quot;next_size_limit&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:[</span> <span class="s2">&quot;file_done&quot;</span><span class="p">,</span> <span class="s2">&quot;index.html&quot;</span> <span class="p">],</span>
    <span class="err">[...]</span> <span class="err">#</span> <span class="err">Same</span> <span class="err">as</span> <span class="err">siteInfo</span> <span class="err">return</span> <span class="err">dict</span>
<span class="p">}</span>
</pre></div>


<hr />
<h3 id="dbquery">dbQuery<a class="headerlink" href="#dbquery" title="Permanent link">&para;</a></h3>
<p>Run a query on the sql cache</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>query</strong></td>
<td>Sql query command</td>
</tr>
<tr>
<td><strong>params</strong></td>
<td>Parameter substitution to the sql query</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: <list> Result of the query</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;dbQuery&quot;</span><span class="p">,</span> <span class="p">[</span>
   <span class="s2">&quot;SELECT * FROM json WHERE file_name = :file_name&quot;</span><span class="p">,</span>
   <span class="p">{</span><span class="nx">file_name</span><span class="o">:</span> <span class="s2">&quot;data.json&quot;</span><span class="p">}</span>
<span class="p">],</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">})</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;dbQuery&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s2">&quot;SELECT * FROM json WHERE file_name IN :file_names&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nx">file_names</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;data.json&quot;</span><span class="p">,</span> <span class="s2">&quot;content.json&quot;</span><span class="p">]}</span>
<span class="p">],</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">})</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;dbQuery&quot;</span><span class="p">,</span> <span class="p">[</span>
    <span class="s2">&quot;SELECT * FROM json ?&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="nx">file_name</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;data.json&quot;</span><span class="p">,</span> <span class="s2">&quot;content.json&quot;</span><span class="p">]}</span>
<span class="p">],</span> <span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">})</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="nx">@log</span> <span class="s">&quot;Updating user info...&quot;</span><span class="p">,</span> <span class="nx">@my_address</span>
<span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span> <span class="s">&quot;dbQuery&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;SELECT user.*, json.json_id AS data_json_id FROM user LEFT JOIN json USING(path) WHERE path=&#39;</span><span class="si">#{</span><span class="nx">@my_address</span><span class="si">}</span><span class="s">/data.json&#39;&quot;</span><span class="p">],</span> <span class="nf">(res) =&gt;</span>
    <span class="k">if</span> <span class="nx">res</span><span class="p">.</span><span class="nx">error</span> <span class="o">or</span> <span class="nx">res</span><span class="p">.</span><span class="nx">length</span> <span class="o">==</span> <span class="mi">0</span> <span class="c1"># Db not ready yet or No user found</span>
        <span class="nx">$</span><span class="p">(</span><span class="s">&quot;.head-user.visitor&quot;</span><span class="p">).</span><span class="nx">css</span><span class="p">(</span><span class="s">&quot;display&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="nx">$</span><span class="p">(</span><span class="s">&quot;.user_name-my&quot;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s">&quot;Visitor&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="nx">cb</span> <span class="k">then</span> <span class="nx">cb</span><span class="p">()</span>
        <span class="k">return</span>

    <span class="vi">@my_row = </span><span class="nx">res</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="vi">@my_id = </span><span class="nx">@my_row</span><span class="p">[</span><span class="s">&quot;user_id&quot;</span><span class="p">]</span>
    <span class="vi">@my_name = </span><span class="nx">@my_row</span><span class="p">[</span><span class="s">&quot;user_name&quot;</span><span class="p">]</span>
    <span class="vi">@my_max_size = </span><span class="nx">@my_row</span><span class="p">[</span><span class="s">&quot;max_size&quot;</span><span class="p">]</span>
</pre></div>


<hr />
<h3 id="dirlist">dirList<a class="headerlink" href="#dirlist" title="Permanent link">&para;</a></h3>
<p>List a content of a directory</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>Directory you want to list</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: List of file and directory names</p>
<hr />
<h3 id="filedelete">fileDelete<a class="headerlink" href="#filedelete" title="Permanent link">&para;</a></h3>
<p>Delete a file</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>The file you want to delete</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: "ok" on success else the error message</p>
<hr />
<h3 id="fileget">fileGet<a class="headerlink" href="#fileget" title="Permanent link">&para;</a></h3>
<p>Get file content</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>The file you want to get</td>
</tr>
<tr>
<td><strong>required</strong> (optional)</td>
<td>Try and wait for the file if it's not exists. (default: True)</td>
</tr>
<tr>
<td><strong>format</strong> (optional)</td>
<td>Encoding of returned data. (text or base64) (default: text)</td>
</tr>
<tr>
<td><strong>timeout</strong> (optional)</td>
<td>Maximum wait time to data arrive (default: 300)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: <string> The content of the file</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Upvote a topic on ZeroTalk</span>
<span class="nv">submitTopicVote: </span><span class="nf">(e) =&gt;</span>
    <span class="k">if</span> <span class="o">not</span> <span class="nx">Users</span><span class="p">.</span><span class="nx">my_name</span> <span class="c1"># Not registered</span>
        <span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span> <span class="s">&quot;wrapperNotification&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;info&quot;</span><span class="p">,</span> <span class="s">&quot;Please, request access before posting.&quot;</span><span class="p">]</span>
        <span class="k">return</span> <span class="kc">false</span>

    <span class="nv">elem = </span><span class="nx">$</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">currentTarget</span><span class="p">)</span>
    <span class="nx">elem</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s">&quot;active&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s">&quot;loading&quot;</span><span class="p">)</span>
    <span class="nv">inner_path = </span><span class="s">&quot;data/users/</span><span class="si">#{</span><span class="nx">Users</span><span class="p">.</span><span class="nx">my_address</span><span class="si">}</span><span class="s">/data.json&quot;</span>

    <span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span> <span class="s">&quot;fileGet&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">inner_path</span><span class="p">],</span> <span class="nf">(data) =&gt;</span>
        <span class="nv">data = </span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
        <span class="nx">data</span><span class="p">.</span><span class="nx">topic_votes</span> <span class="o">?=</span> <span class="p">{}</span> <span class="c1"># Create if not exits</span>
        <span class="nv">topic_address = </span><span class="nx">elem</span><span class="p">.</span><span class="nx">parents</span><span class="p">(</span><span class="s">&quot;.topic&quot;</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s">&quot;topic_address&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nx">elem</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s">&quot;active&quot;</span><span class="p">)</span> <span class="c1"># Add upvote to topic</span>
            <span class="nx">data</span><span class="p">.</span><span class="nx">topic_votes</span><span class="p">[</span><span class="nx">topic_address</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">else</span> <span class="c1"># Remove upvote from topic</span>
            <span class="k">delete</span> <span class="nx">data</span><span class="p">.</span><span class="nx">topic_votes</span><span class="p">[</span><span class="nx">topic_address</span><span class="p">]</span>

        <span class="c1"># Write file and publish to other peers</span>
        <span class="nx">Page</span><span class="p">.</span><span class="nx">writePublish</span> <span class="nx">inner_path</span><span class="p">,</span> <span class="nx">Page</span><span class="p">.</span><span class="nx">jsonEncode</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span> <span class="nf">(res) =&gt;</span>
            <span class="nx">elem</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s">&quot;loading&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="nx">res</span> <span class="o">==</span> <span class="kc">true</span>
                <span class="nx">@log</span> <span class="s">&quot;File written&quot;</span>
            <span class="k">else</span> <span class="c1"># Failed</span>
                <span class="nx">elem</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s">&quot;active&quot;</span><span class="p">)</span> <span class="c1"># Change back</span>

    <span class="k">return</span> <span class="kc">false</span>
</pre></div>


<hr />
<h3 id="filelist">fileList<a class="headerlink" href="#filelist" title="Permanent link">&para;</a></h3>
<p>Recursively list of files in a directory</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>Directory you want to list</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: List of files in the directory (recursive)</p>
<hr />
<h3 id="fileneed">fileNeed<a class="headerlink" href="#fileneed" title="Permanent link">&para;</a></h3>
<p>Initialize download of a (optional) file.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>The file you want to get</td>
</tr>
<tr>
<td><strong>timeout</strong> (optional)</td>
<td>Maximum wait time to data arrive (default: 300)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: "ok" on successfull download</p>
<hr />
<h3 id="filequery">fileQuery<a class="headerlink" href="#filequery" title="Permanent link">&para;</a></h3>
<p>Simple json file query command</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>dir_inner_path</strong></td>
<td>Pattern of queried files</td>
</tr>
<tr>
<td><strong>query</strong></td>
<td>Query command (optional)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: <list> Matched content</p>
<p><strong>Query examples:</strong></p>
<ul>
<li><code>["data/users/*/data.json", "topics"]</code>: Returns all topics node from all user files</li>
<li><code>["data/users/*/data.json", "comments.1@2"]</code>: Returns <code>user_data["comments"]["1@2"]</code> value from all user files</li>
<li><code>["data/users/*/data.json", ""]</code>: Returns all data from users files</li>
<li><code>["data/users/*/data.json"]</code>: Returns all data from users files (same as above)</li>
</ul>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;fileQuery&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;data/users/*/data.json&quot;</span><span class="p">,</span> <span class="s">&quot;topics&quot;</span><span class="p">],</span> <span class="nf">(topics) =&gt;</span>
    <span class="nx">topics</span><span class="p">.</span><span class="nx">sort</span> <span class="nf">(a, b) -&gt;</span> <span class="c1"># Sort by date</span>
        <span class="k">return</span> <span class="nx">a</span><span class="p">.</span><span class="nx">added</span> <span class="o">-</span> <span class="nx">b</span><span class="p">.</span><span class="nx">added</span>
    <span class="k">for</span> <span class="nx">topic</span> <span class="k">in</span> <span class="nx">topics</span>
        <span class="nx">@log</span> <span class="nx">topic</span><span class="p">.</span><span class="nx">topic_id</span><span class="p">,</span> <span class="nx">topic</span><span class="p">.</span><span class="nx">inner_path</span><span class="p">,</span> <span class="nx">topic</span><span class="p">.</span><span class="nx">title</span>
</pre></div>


<hr />
<h3 id="filerules">fileRules<a class="headerlink" href="#filerules" title="Permanent link">&para;</a></h3>
<p>Return the rules for the file.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>File inner path</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: <list> Matched content</p>
<p><strong>Example result:</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;current_size&quot;</span><span class="p">:</span> <span class="mi">2485</span><span class="p">,</span>
    <span class="nt">&quot;cert_signers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="nt">&quot;zeroid.bit&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1iD5ZQJMNXu43w1qLB8sfdHVKppVMduGz&quot;</span><span class="p">]},</span>
    <span class="nt">&quot;files_allowed&quot;</span><span class="p">:</span> <span class="s2">&quot;data.json&quot;</span><span class="p">,</span>
    <span class="nt">&quot;signers&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1J3rJ8ecnwH2EPYa6MrgZttBNc61ACFiCj&quot;</span><span class="p">],</span>
    <span class="nt">&quot;user_address&quot;</span><span class="p">:</span> <span class="s2">&quot;1J3rJ8ecnwH2EPYa6MrgZttBNc61ACFiCj&quot;</span><span class="p">,</span>
    <span class="nt">&quot;max_size&quot;</span><span class="p">:</span> <span class="mi">100000</span>
<span class="p">}</span>
</pre></div>


<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;fileRules&quot;</span><span class="p">,</span> <span class="s">&quot;data/users/1J3rJ8ecnwH2EPYa6MrgZttBNc61ACFiCj/content.json&quot;</span><span class="p">,</span> <span class="nf">(rules) =&gt;</span>
    <span class="nx">@log</span> <span class="nx">rules</span>
</pre></div>


<hr />
<h3 id="filewrite">fileWrite<a class="headerlink" href="#filewrite" title="Permanent link">&para;</a></h3>
<p>Write file content</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>Inner path of the file you want to write</td>
</tr>
<tr>
<td><strong>content_base64</strong></td>
<td>Content you want to write to file (base64 encoded)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: "ok" on success else the error message</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nv">writeData: </span><span class="nf">(cb=null) -&gt;</span>
    <span class="c1"># Encode to json, encode utf8</span>
    <span class="nv">json_raw = </span><span class="nx">unescape</span><span class="p">(</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span><span class="s">&quot;hello&quot;</span><span class="o">:</span> <span class="s">&quot;ZeroNet&quot;</span><span class="p">},</span> <span class="kc">undefined</span><span class="p">,</span> <span class="s">&#39;\t&#39;</span><span class="p">)))</span>
    <span class="c1"># Convert to to base64 and send</span>
    <span class="nx">@cmd</span> <span class="s">&quot;fileWrite&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;data.json&quot;</span><span class="p">,</span> <span class="nx">btoa</span><span class="p">(</span><span class="nx">json_raw</span><span class="p">)],</span> <span class="nf">(res) =&gt;</span>
        <span class="k">if</span> <span class="nx">res</span> <span class="o">==</span> <span class="s">&quot;ok&quot;</span>
            <span class="k">if</span> <span class="nx">cb</span> <span class="k">then</span> <span class="nx">cb</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
        <span class="k">else</span>
            <span class="nx">@cmd</span> <span class="s">&quot;wrapperNotification&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;error&quot;</span><span class="p">,</span> <span class="s">&quot;File write error: </span><span class="si">#{</span><span class="nx">res</span><span class="si">}</span><span class="s">&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="nx">cb</span> <span class="k">then</span> <span class="nx">cb</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span>
</pre></div>


<p><em>Note:</em> to write files that not in content.json yet, you must have <code>"own": true</code> in <code>data/sites.json</code> at the site you want to write</p>
<hr />
<h3 id="ping">ping<a class="headerlink" href="#ping" title="Permanent link">&para;</a></h3>
<p>Test UiServer websocket connection</p>
<p><strong>Return:</strong> pong</p>
<hr />
<h3 id="serverinfo">serverInfo<a class="headerlink" href="#serverinfo" title="Permanent link">&para;</a></h3>
<p><strong>Return:</strong> <dict> All information about the server</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;serverInfo&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="nf">(server_info) =&gt;</span>
    <span class="nx">@log</span> <span class="s">&quot;Server info:&quot;</span><span class="p">,</span> <span class="nx">server_info</span>
</pre></div>


<p><strong>Example return value:</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;debug&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="err">#</span> <span class="err">Running</span> <span class="err">in</span> <span class="err">debug</span> <span class="err">mode</span>
    <span class="nt">&quot;fileserver_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="err">#</span> <span class="err">Fileserver</span> <span class="err">binded</span> <span class="err">to</span>
    <span class="nt">&quot;fileserver_port&quot;</span><span class="p">:</span> <span class="mi">15441</span><span class="p">,</span> <span class="err">#</span> <span class="err">FileServer</span> <span class="err">port</span>
    <span class="nt">&quot;ip_external&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="err">#</span> <span class="err">Active</span> <span class="err">of</span> <span class="err">passive</span> <span class="err">mode</span>
    <span class="nt">&quot;platform&quot;</span><span class="p">:</span> <span class="s2">&quot;win32&quot;</span><span class="p">,</span> <span class="err">#</span> <span class="err">Operating</span> <span class="err">system</span>
    <span class="nt">&quot;ui_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span> <span class="err">#</span> <span class="err">UiServer</span> <span class="err">binded</span> <span class="err">to</span>
    <span class="nt">&quot;ui_port&quot;</span><span class="p">:</span> <span class="mi">43110</span><span class="p">,</span> <span class="err">#</span> <span class="err">UiServer</span> <span class="err">port</span> <span class="err">(Web)</span>
    <span class="nt">&quot;version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.2.5&quot;</span> <span class="err">#</span> <span class="err">Version</span>
<span class="p">}</span>
</pre></div>


<hr />
<h3 id="siteinfo">siteInfo<a class="headerlink" href="#siteinfo" title="Permanent link">&para;</a></h3>
<p><strong>Return</strong>: <dict> All information about the site</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">@cmd</span> <span class="s">&quot;siteInfo&quot;</span><span class="p">,</span> <span class="p">{},</span> <span class="nf">(site_info) =&gt;</span>
    <span class="nx">@log</span> <span class="s">&quot;Site info:&quot;</span><span class="p">,</span> <span class="nx">site_info</span>
</pre></div>


<p><strong>Example return value:</strong></p>
<div class="codehilite"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;tasks&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="err">#</span> <span class="err">Number</span> <span class="err">of</span> <span class="err">files</span> <span class="err">currently</span> <span class="err">under</span> <span class="err">download</span>
    <span class="nt">&quot;size_limit&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="err">#</span> <span class="err">Current</span> <span class="err">site</span> <span class="err">size</span> <span class="err">limit</span> <span class="err">in</span> <span class="err">MB</span>
    <span class="nt">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;1EU1tbG9oC1A8jz2ouVwGZyQ5asrNsE4Vr&quot;</span><span class="p">,</span> <span class="err">#</span> <span class="err">Site</span> <span class="err">address</span>
    <span class="nt">&quot;next_size_limit&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="err">#</span> <span class="err">Size</span> <span class="err">limit</span> <span class="err">required</span> <span class="err">by</span> <span class="err">sum</span> <span class="err">of</span> <span class="err">site&#39;s</span> <span class="err">files</span>
    <span class="nt">&quot;auth_address&quot;</span><span class="p">:</span> <span class="s2">&quot;2D6xXUmCVAXGrbVUGRRJdS4j1hif1EMfae&quot;</span><span class="p">,</span> <span class="err">#</span> <span class="err">Current</span> <span class="err">user&#39;s</span> <span class="err">bitcoin</span> <span class="err">address</span>
    <span class="nt">&quot;auth_key_sha512&quot;</span><span class="p">:</span> <span class="s2">&quot;269a0f4c1e0c697b9d56ccffd9a9748098e51acc5d2807adc15a587779be13cf&quot;</span><span class="p">,</span> <span class="err">#</span> <span class="err">Deprecated,</span> <span class="err">dont</span> <span class="err">use</span>
    <span class="nt">&quot;peers&quot;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="err">#</span> <span class="err">Peers</span> <span class="err">of</span> <span class="err">site</span>
    <span class="nt">&quot;auth_key&quot;</span><span class="p">:</span> <span class="s2">&quot;pOBdl00EJ29Ad8OmVIc763k4&quot;</span><span class="p">,</span> <span class="err">#</span> <span class="err">Deprecated,</span> <span class="err">dont</span> <span class="err">use</span>
    <span class="nt">&quot;settings&quot;</span><span class="p">:</span>  <span class="p">{</span>
        <span class="nt">&quot;peers&quot;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="err">#</span> <span class="err">Saved</span> <span class="err">peers</span> <span class="err">num</span> <span class="err">for</span> <span class="err">sorting</span>
        <span class="nt">&quot;serving&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="err">#</span> <span class="err">Site</span> <span class="err">enabled</span>
        <span class="nt">&quot;modified&quot;</span><span class="p">:</span> <span class="mf">1425344149.365</span><span class="p">,</span> <span class="err">#</span> <span class="err">Last</span> <span class="err">modification</span> <span class="err">time</span> <span class="err">of</span> <span class="err">all</span> <span class="err">site&#39;s</span> <span class="err">files</span>
        <span class="nt">&quot;own&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="err">#</span> <span class="err">Own</span> <span class="err">site</span>
        <span class="nt">&quot;permissions&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;ADMIN&quot;</span><span class="p">],</span> <span class="err">#</span> <span class="err">Site&#39;s</span> <span class="err">permission</span>
        <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="mi">342165</span> <span class="err">#</span> <span class="err">Site</span> <span class="err">total</span> <span class="err">size</span> <span class="err">in</span> <span class="err">bytes</span>
    <span class="p">},</span>
    <span class="nt">&quot;bad_files&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="err">#</span> <span class="err">Files</span> <span class="err">that</span> <span class="err">needs</span> <span class="err">to</span> <span class="err">be</span> <span class="err">download</span>
    <span class="nt">&quot;workers&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="err">#</span> <span class="err">Current</span> <span class="err">concurent</span> <span class="err">downloads</span>
    <span class="nt">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="err">#</span> <span class="err">Root</span> <span class="err">content.json</span>
        <span class="nt">&quot;files&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="err">#</span> <span class="err">Number</span> <span class="err">of</span> <span class="err">file,</span> <span class="err">detailed</span> <span class="err">file</span> <span class="err">info</span> <span class="err">removed</span> <span class="err">to</span> <span class="err">reduce</span> <span class="err">data</span> <span class="err">transfer</span> <span class="err">and</span> <span class="err">parse</span> <span class="err">time</span>
        <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This site&quot;</span><span class="p">,</span>
        <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;ZeroHello&quot;</span><span class="p">,</span>
        <span class="nt">&quot;signs_required&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="nt">&quot;modified&quot;</span><span class="p">:</span> <span class="mf">1425344149.365</span><span class="p">,</span>
        <span class="nt">&quot;ignore&quot;</span><span class="p">:</span> <span class="s2">&quot;(js|css)/(?!all.(js|css))&quot;</span><span class="p">,</span>
        <span class="nt">&quot;signers_sign&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;address&quot;</span><span class="p">:</span> <span class="s2">&quot;1EU1tbG9oC1A8jz2ouVwGZyQ5asrNsE4Vr&quot;</span><span class="p">,</span>
        <span class="nt">&quot;zeronet_version&quot;</span><span class="p">:</span> <span class="s2">&quot;0.2.5&quot;</span><span class="p">,</span>
        <span class="nt">&quot;includes&quot;</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="nt">&quot;cert_user_id&quot;</span><span class="p">:</span> <span class="s2">&quot;zeronetuser@zeroid.bit&quot;</span><span class="p">,</span> <span class="err">#</span> <span class="err">Currently</span> <span class="err">selected</span> <span class="err">certificate</span> <span class="err">for</span> <span class="err">the</span> <span class="err">site</span>
    <span class="nt">&quot;started_task_num&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="err">#</span> <span class="err">Last</span> <span class="err">number</span> <span class="err">of</span> <span class="err">files</span> <span class="err">downloaded</span>
    <span class="nt">&quot;content_updated&quot;</span><span class="p">:</span> <span class="mf">1426008289.71</span> <span class="err">#</span> <span class="err">Content.json</span> <span class="err">update</span> <span class="err">time</span>
<span class="p">}</span>
</pre></div>


<hr />
<h3 id="sitepublish">sitePublish<a class="headerlink" href="#sitepublish" title="Permanent link">&para;</a></h3>
<p>Publish a content.json of the site</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>privatekey</strong> (optional)</td>
<td>Private key used for signing (default: current user's privatekey)</td>
</tr>
<tr>
<td><strong>inner_path</strong> (optional)</td>
<td>Inner path of the content json you want to publish (default: content.json)</td>
</tr>
<tr>
<td><strong>sign</strong> (optional)</td>
<td>If True then sign the content.json before publish (default: True)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: "ok" on success else the error message</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Prompt the private key</span>
<span class="nx">@cmd</span> <span class="s">&quot;wrapperPrompt&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;Enter your private key:&quot;</span><span class="p">,</span> <span class="s">&quot;password&quot;</span><span class="p">],</span> <span class="nf">(privatekey) =&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s">&quot;.publishbar .button&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s">&quot;loading&quot;</span><span class="p">)</span>
    <span class="c1"># Send sign content.json and publish request to server</span>
    <span class="nx">@cmd</span> <span class="s">&quot;sitePublish&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">privatekey</span><span class="p">],</span> <span class="nf">(res) =&gt;</span>
        <span class="nx">$</span><span class="p">(</span><span class="s">&quot;.publishbar .button&quot;</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s">&quot;loading&quot;</span><span class="p">)</span>
        <span class="nx">@log</span> <span class="s">&quot;Publish result:&quot;</span><span class="p">,</span> <span class="nx">res</span>
</pre></div>


<hr />
<h3 id="sitereload">siteReload<a class="headerlink" href="#sitereload" title="Permanent link">&para;</a></h3>
<p>Reload content.json file content and scans for optional files</p>
<p><strong>Return</strong>: "ok" on success</p>
<hr />
<h3 id="sitesign">siteSign<a class="headerlink" href="#sitesign" title="Permanent link">&para;</a></h3>
<p>Sign a content.json of the site</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>privatekey</strong> (optional)</td>
<td>Private key used for signing (default: current user's privatekey)</td>
</tr>
<tr>
<td><strong>inner_path</strong> (optional)</td>
<td>Inner path of the content json you want to sign (default: content.json)</td>
</tr>
<tr>
<td><strong>remove_missing_optional</strong> (optional)</td>
<td>Remove the optional files from content.json that no longer present in the directory (default: False)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: "ok" on success else the error message</p>
<blockquote>
<p><strong>Note:</strong>
Use "stored" as privatekey if its definied in users.json (eg. cloned sites)</p>
</blockquote>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="k">if</span> <span class="nx">@site_info</span><span class="p">[</span><span class="s">&quot;privatekey&quot;</span><span class="p">]</span> <span class="c1"># Private key stored in users.json</span>
    <span class="nx">@cmd</span> <span class="s">&quot;siteSign&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;stored&quot;</span><span class="p">,</span> <span class="s">&quot;content.json&quot;</span><span class="p">],</span> <span class="nf">(res) =&gt;</span>
        <span class="nx">@log</span> <span class="s">&quot;Sign result&quot;</span><span class="p">,</span> <span class="nx">res</span>
</pre></div>


<hr />
<h3 id="siteupdate">siteUpdate<a class="headerlink" href="#siteupdate" title="Permanent link">&para;</a></h3>
<p>Force check and download changed content from other peers (only necessary if user is in passive mode and using old version of Zeronet)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>Address of site want to update (only current site allowed without site ADMIN permission)</td>
</tr>
</tbody>
</table>
<p><strong>Return:</strong> None</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Manual site update for passive connections</span>
<span class="nv">updateSite: </span><span class="nf">=&gt;</span>
    <span class="nx">$</span><span class="p">(</span><span class="s">&quot;#passive_error a&quot;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s">&quot;loading&quot;</span><span class="p">).</span><span class="nx">removeClassLater</span><span class="p">(</span><span class="s">&quot;loading&quot;</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="nx">@log</span> <span class="s">&quot;Updating site...&quot;</span>
    <span class="nx">@cmd</span> <span class="s">&quot;siteUpdate&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;address&quot;</span><span class="o">:</span> <span class="nx">@site_info</span><span class="p">.</span><span class="nx">address</span><span class="p">}</span>
</pre></div>


<hr />
<h3 id="usergetsettings">userGetSettings<a class="headerlink" href="#usergetsettings" title="Permanent link">&para;</a></h3>
<p>Get user's saved settings.</p>
<p><strong>Return:</strong> The user specific site's settings saved using userSetSettings.</p>
<hr />
<h3 id="usersetsettings">userSetSettings<a class="headerlink" href="#usersetsettings" title="Permanent link">&para;</a></h3>
<p>Set user's site specific settings.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>settings</strong></td>
<td>The user's site specific settings you want to store.</td>
</tr>
</tbody>
</table>
<p><strong>Return:</strong> ok on success</p>
<hr />
<h2 id="plugin-bigfile">Plugin: Bigfile<a class="headerlink" href="#plugin-bigfile" title="Permanent link">&para;</a></h2>
<h3 id="bigfileuploadinit">BigfileUploadInit<a class="headerlink" href="#bigfileuploadinit" title="Permanent link">&para;</a></h3>
<p>Initialize a new upload endpoint for a bigfile.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>Upload location</td>
</tr>
<tr>
<td><strong>size</strong></td>
<td>File size</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: A dict with the information about the upload:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>url</strong></td>
<td>Http upload endpoint</td>
</tr>
<tr>
<td><strong>piece_size</strong></td>
<td>Size of each separately hashed part of the file</td>
</tr>
<tr>
<td><strong>inner_path</strong></td>
<td>File path within the site</td>
</tr>
<tr>
<td><strong>file_relative_path</strong></td>
<td>File path relative to content.json</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Note:</strong> Not supported non-ascii characters will be automatically removed from <code>inner_path</code> and <code>file_relative_path</code> values</p>
</blockquote>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="kd">var</span> <span class="nx">input</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">)</span>
<span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span>
<span class="nx">input</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s2">&quot;file&quot;</span>
<span class="nx">input</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">visibility</span> <span class="o">=</span> <span class="s2">&quot;hidden&quot;</span>

<span class="nx">input</span><span class="p">.</span><span class="nx">onchange</span> <span class="o">=</span> <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">file</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">files</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="nx">page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;bigfileUploadInit&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;optional/&quot;</span><span class="o">+</span><span class="nx">file</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">file</span><span class="p">.</span><span class="nx">size</span><span class="p">],</span> <span class="p">(</span><span class="nx">init_res</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">formdata</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">()</span>
        <span class="nx">formdata</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">file</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="nx">file</span><span class="p">)</span>

        <span class="kd">var</span> <span class="nx">req</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">XMLHttpRequest</span><span class="p">()</span>
        <span class="nx">req</span><span class="p">.</span><span class="nx">upload</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;progress&quot;</span><span class="p">,</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">)</span>
        <span class="nx">req</span><span class="p">.</span><span class="nx">upload</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;loadend&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="p">=&gt;</span>
            <span class="nx">page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;wrapperConfirm&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Upload finished!&quot;</span><span class="p">,</span> <span class="s2">&quot;Open file&quot;</span><span class="p">],</span>
                <span class="p">()</span> <span class="p">=&gt;</span> <span class="p">{</span> <span class="nb">window</span><span class="p">.</span><span class="nx">top</span><span class="p">.</span><span class="nx">location</span> <span class="o">=</span> <span class="nx">init_res</span><span class="p">.</span><span class="nx">inner_path</span> <span class="p">}</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="nx">req</span><span class="p">.</span><span class="nx">withCredentials</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="nx">req</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="s2">&quot;POST&quot;</span><span class="p">,</span> <span class="nx">init_res</span><span class="p">.</span><span class="nx">url</span><span class="p">)</span>
        <span class="nx">req</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">formdata</span><span class="p">)</span>
    <span class="p">})</span>
<span class="p">}</span>
<span class="nx">input</span><span class="p">.</span><span class="nx">click</span><span class="p">()</span>
</pre></div>


<hr />
<h2 id="plugin-chart">Plugin: Chart<a class="headerlink" href="#plugin-chart" title="Permanent link">&para;</a></h2>
<h3 id="chartdbquery">chartDbQuery<a class="headerlink" href="#chartdbquery" title="Permanent link">&para;</a></h3>
<p>Run database query on chart database.</p>
<p>Arguments and return value: Same as <a href="#dbquery-query-param">dbQuery</a></p>
<h3 id="chartgetpeerlocations">chartGetPeerLocations<a class="headerlink" href="#chartgetpeerlocations" title="Permanent link">&para;</a></h3>
<p>Get list of unique peers in client</p>
<p><strong>Return</strong>: List of unique peers</p>
<p><strong>Example</strong>:</p>
<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;chartGetPeerLocations&quot;</span><span class="p">)</span>
<span class="o">&gt;</span> <span class="p">[</span>
<span class="o">&gt;</span>  <span class="p">{</span><span class="nx">lat</span><span class="o">:</span> <span class="mf">43.6655</span><span class="p">,</span> <span class="nx">city</span><span class="o">:</span> <span class="s2">&quot;Toronto&quot;</span><span class="p">,</span> <span class="nx">ping</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span> <span class="nx">lon</span><span class="o">:</span> <span class="o">-</span><span class="mf">79.4204</span><span class="p">,</span> <span class="nx">country</span><span class="o">:</span> <span class="s2">&quot;Canada&quot;</span><span class="p">},</span>
<span class="o">&gt;</span> <span class="p">...</span>
<span class="o">&gt;</span> <span class="p">]</span>
</pre></div>


<hr />
<h2 id="plugin-cors">Plugin: Cors<a class="headerlink" href="#plugin-cors" title="Permanent link">&para;</a></h2>
<p>Allow cross-site file access under virtual directory <strong>/cors-siteaddress/</strong> and grant cross-site database query using the <a href="#as-address-cmd-arguments">as</a> API command.</p>
<h3 id="corspermission">corsPermission<a class="headerlink" href="#corspermission" title="Permanent link">&para;</a></h3>
<p>Request Cross origin resource sharing permission with the given site.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>The site address you want get cors access</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: ok on success</p>
<p>After the permission is granted the other site's files will be available under <strong>/cors-siteaddress/</strong> virtual directory via http request or by the fileGet API command.</p>
<p>The site will be added to user's client if it's required.</p>
<hr />
<h2 id="plugin-cryptmessage">Plugin: CryptMessage<a class="headerlink" href="#plugin-cryptmessage" title="Permanent link">&para;</a></h2>
<h3 id="userpublickey">userPublickey<a class="headerlink" href="#userpublickey" title="Permanent link">&para;</a></h3>
<p>Get user's site specific publickey</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>index</strong> (optional)</td>
<td>Sub-publickey within site (default: 0)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: base64 encoded publickey</p>
<hr />
<h3 id="eciesencrypt">eciesEncrypt<a class="headerlink" href="#eciesencrypt" title="Permanent link">&para;</a></h3>
<p>Encrypt a text using a publickey</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>text</strong></td>
<td>Text to encrypt</td>
</tr>
<tr>
<td><strong>publickey</strong> (optional)</td>
<td>User's publickey index (int) or base64 encoded publickey (default: 0)</td>
</tr>
<tr>
<td><strong>return_aes_key</strong> (optional)</td>
<td>Get the AES key used in encryption (default: False)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: Encrypted text in base64 format or [Encrypted text in base64 format, AES key in base64 format]</p>
<hr />
<h3 id="eciesdecrypt">eciesDecrypt<a class="headerlink" href="#eciesdecrypt" title="Permanent link">&para;</a></h3>
<p>Try to decrypt list of texts</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>params</strong></td>
<td>A text or list of encrypted texts</td>
</tr>
<tr>
<td><strong>privatekey</strong> (optional)</td>
<td>User's privatekey index (int) or base64 encoded privatekey (default: 0)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: Decrypted text or list of decrypted texts (null for failed decodings)</p>
<hr />
<h3 id="aesencrypt">aesEncrypt<a class="headerlink" href="#aesencrypt" title="Permanent link">&para;</a></h3>
<p>Encrypt a text using the key and the iv</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>text</strong></td>
<td>A text encrypt using AES</td>
</tr>
<tr>
<td><strong>key</strong> (optional)</td>
<td>Base64 encoded password (default: generate new)</td>
</tr>
<tr>
<td><strong>iv</strong> (optional)</td>
<td>Base64 encoded iv (default: generate new)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: [base64 encoded key, base64 encoded iv, base64 encoded encrypted text]</p>
<hr />
<h3 id="aesdecrypt">aesDecrypt<a class="headerlink" href="#aesdecrypt" title="Permanent link">&para;</a></h3>
<p>Decrypt text using the IV and AES key</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>iv</strong></td>
<td>IV in Base64 format</td>
</tr>
<tr>
<td><strong>encrypted_text</strong></td>
<td>Encrypted text in Base64 format</td>
</tr>
<tr>
<td><strong>encrypted_texts</strong></td>
<td>List of [base64 encoded iv, base64 encoded encrypted text] pairs</td>
</tr>
<tr>
<td><strong>key</strong></td>
<td>Base64 encoded password for the text</td>
</tr>
<tr>
<td><strong>keys</strong></td>
<td>Keys for decoding (tries every one for every pairs)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: Decoded text or list of decoded texts</p>
<hr />
<h2 id="plugin-newsfeed">Plugin: Newsfeed<a class="headerlink" href="#plugin-newsfeed" title="Permanent link">&para;</a></h2>
<h3 id="feedfollow">feedFollow<a class="headerlink" href="#feedfollow" title="Permanent link">&para;</a></h3>
<p>Set followed sql queries.</p>
<p>The SQL query should result in rows with cols:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>type</strong></td>
<td>Type: post, article, comment, mention</td>
</tr>
<tr>
<td><strong>date_added</strong></td>
<td>Event time</td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>Event's first line to be displayed</td>
</tr>
<tr>
<td><strong>body</strong></td>
<td>Event's second and third line</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td>Link to event's page</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>feeds</strong></td>
<td>Format: {"query name": [SQL query, [param1, param2, ...], ...}, parameters will be escaped, joined by <code>,</code> inserted in place of <code>:params</code> in the Sql query.</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: ok</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="c1"># Follow ZeroBlog posts</span>
<span class="nv">query = </span><span class="s">&quot;</span>
<span class="s">    SELECT</span>
<span class="s">     post_id AS event_uri,</span>
<span class="s">     &#39;post&#39; AS type,</span>
<span class="s">     date_published AS date_added,</span>
<span class="s">     title AS title,</span>
<span class="s">     body AS body,</span>
<span class="s">     &#39;?Post:&#39; || post_id AS url</span>
<span class="s">    FROM post</span>
<span class="s">&quot;</span>
<span class="nv">params = </span><span class="p">[</span><span class="s">&quot;&quot;</span><span class="p">]</span>
<span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span> <span class="nx">feedFollow</span> <span class="p">[{</span><span class="s">&quot;Posts&quot;</span><span class="o">:</span> <span class="p">[</span><span class="nx">query</span><span class="p">,</span> <span class="nx">params</span><span class="p">]}]</span>
</pre></div>


<hr />
<h3 id="feedlistfollow">feedListFollow<a class="headerlink" href="#feedlistfollow" title="Permanent link">&para;</a></h3>
<p>Return of current followed feeds</p>
<p><strong>Return</strong>: The currently followed feeds in the same format as in the feedFollow commands</p>
<hr />
<h3 id="feedquery">feedQuery<a class="headerlink" href="#feedquery" title="Permanent link">&para;</a></h3>
<p>Execute all followed sql query</p>
<p><strong>Return</strong>: The result of the followed Sql queries</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>limit</strong></td>
<td>Limit of results per followed site (default: 10)</td>
</tr>
<tr>
<td><strong>day_limit</strong></td>
<td>Return no older than number of this days (default: 3)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="plugin-mergersite">Plugin: MergerSite<a class="headerlink" href="#plugin-mergersite" title="Permanent link">&para;</a></h2>
<h3 id="mergersiteadd">mergerSiteAdd<a class="headerlink" href="#mergersiteadd" title="Permanent link">&para;</a></h3>
<p>Start downloading new merger site(s)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>addresses</strong></td>
<td>Site address or list of site addresses</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="mergersitedelete">mergerSiteDelete<a class="headerlink" href="#mergersitedelete" title="Permanent link">&para;</a></h3>
<p>Stop seeding and delete a merged site</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>Site address</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="mergersitelist">mergerSiteList<a class="headerlink" href="#mergersitelist" title="Permanent link">&para;</a></h3>
<p>Return merged sites.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>query_site_info</strong></td>
<td>If True, then gives back detailed site info for merged sites</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="plugin-mute">Plugin: Mute<a class="headerlink" href="#plugin-mute" title="Permanent link">&para;</a></h2>
<h3 id="muteadd">muteAdd<a class="headerlink" href="#muteadd" title="Permanent link">&para;</a></h3>
<p>Add new user to mute list. (Requires confirmation for non-ADMIN sites)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>auth_address</strong></td>
<td>Directory name of the user's data.</td>
</tr>
<tr>
<td><strong>cert_user_id</strong></td>
<td>Cert user name of the user</td>
</tr>
<tr>
<td><strong>reason</strong></td>
<td>Reason of the muting</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: ok if confirmed</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s">&quot;muteAdd&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;1GJUaZMjTfeETdYUhchSkDijv6LVhjekHz&#39;</span><span class="p">,</span><span class="s">&#39;helloworld@kaffie.bit&#39;</span><span class="p">,</span><span class="s">&#39;Spammer&#39;</span><span class="p">])</span>
</pre></div>


<hr />
<h3 id="muteremove">muteRemove<a class="headerlink" href="#muteremove" title="Permanent link">&para;</a></h3>
<p>Remove a user from mute list. (Requires confirmation for non-ADMIN sites)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>auth_address</strong></td>
<td>Directory name of the user's data.</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: ok if confirmed</p>
<p><strong>Example:</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s">&quot;muteRemove&quot;</span><span class="p">,</span> <span class="s">&#39;1GJUaZMjTfeETdYUhchSkDijv6LVhjekHz&#39;</span><span class="p">)</span>
</pre></div>


<hr />
<h3 id="mutelist">muteList<a class="headerlink" href="#mutelist" title="Permanent link">&para;</a></h3>
<p>List muted users. (Requires ADMIN permission on site)</p>
<p><strong>Return</strong>: List of muted users</p>
<hr />
<h2 id="plugin-optionalmanager">Plugin: OptionalManager<a class="headerlink" href="#plugin-optionalmanager" title="Permanent link">&para;</a></h2>
<h3 id="optionalfilelist">optionalFileList<a class="headerlink" href="#optionalfilelist" title="Permanent link">&para;</a></h3>
<p>Return list of optional files</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>The site address you want to list optional files (default: current site)</td>
</tr>
<tr>
<td><strong>orderby</strong></td>
<td>Order of returned optional files (default: time_downloaded DESC)</td>
</tr>
<tr>
<td><strong>limit</strong></td>
<td>Max number of returned optional files (default: 10)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: Database row of optional files: file_id, site_id, inner_path, hash_id, size, peer, uploaded, is_downloaded, is_pinned, time_added, time_downlaoded, time_accessed</p>
<hr />
<h3 id="optionalfileinfo">optionalFileInfo<a class="headerlink" href="#optionalfileinfo" title="Permanent link">&para;</a></h3>
<p>Query optional file info from database</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>The path of the file</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: Database row of optional file: file_id, site_id, inner_path, hash_id, size, peer, uploaded, is_downloaded, is_pinned, time_added, time_downlaoded, time_accessed</p>
<hr />
<h3 id="optionalfilepin">optionalFilePin<a class="headerlink" href="#optionalfilepin" title="Permanent link">&para;</a></h3>
<p>Pin (exclude from automatized optional file cleanup) downloaded optional file</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>The path of the file</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Address for the file (default: current site)</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="optionalfileunpin">optionalFileUnpin<a class="headerlink" href="#optionalfileunpin" title="Permanent link">&para;</a></h3>
<p>Remove pinning (include from automatized optional file cleanup) of downloaded optional file</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>The path of the file</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Address for the file (default: current site)</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="optionalfiledelete">optionalFileDelete<a class="headerlink" href="#optionalfiledelete" title="Permanent link">&para;</a></h3>
<p>Query a downloaded optional file</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>inner_path</strong></td>
<td>The path of the file</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Address for the file (default: current site)</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="optionallimitstats">optionalLimitStats<a class="headerlink" href="#optionallimitstats" title="Permanent link">&para;</a></h3>
<p>Return currently used disk space by optional files</p>
<p><strong>Return</strong>: limit, used and free space statistics</p>
<hr />
<h3 id="optionallimitset">optionalLimitSet<a class="headerlink" href="#optionallimitset" title="Permanent link">&para;</a></h3>
<p>Set the optional file limit</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>limit</strong></td>
<td>Max space used by the optional files in gb or percent of used space</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="optionalhelplist">optionalHelpList<a class="headerlink" href="#optionalhelplist" title="Permanent link">&para;</a></h3>
<p>List the auto-downloaded directories of optional files</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>Address of site you want to list helped directories (default: current site)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: Dict of auto-downloaded directories and descriptions</p>
<hr />
<h3 id="optionalhelp">optionalHelp<a class="headerlink" href="#optionalhelp" title="Permanent link">&para;</a></h3>
<p>Add directory to auto-download list</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>directory</strong></td>
<td>Directory you want to add to auto-download list</td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>Title for the entry (displayed on ZeroHello)</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Address of site you want to add the auto-download directory (default: current site)</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="optionalhelpremove">optionalHelpRemove<a class="headerlink" href="#optionalhelpremove" title="Permanent link">&para;</a></h3>
<p>Remove an auto-download entry</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>directory</strong></td>
<td>Directory you want to remove from auto-download list</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Address of affected site (default: current site)</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="optionalhelpall">optionalHelpAll<a class="headerlink" href="#optionalhelpall" title="Permanent link">&para;</a></h3>
<p>Help download every new uploaded optional file to the site</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>value</strong></td>
<td>Enable or Disable the auto-download</td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>Address of affected site (default: current site)</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="admin-commands">Admin commands<a class="headerlink" href="#admin-commands" title="Permanent link">&para;</a></h2>
<p><em>(requires ADMIN permission in data/sites.json)</em></p>
<h3 id="as">as<a class="headerlink" href="#as" title="Permanent link">&para;</a></h3>
<p>Execute command in other site's context</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>The context site's address</td>
</tr>
<tr>
<td><strong>cmd</strong></td>
<td>API command name</td>
</tr>
<tr>
<td><strong>arguments</strong></td>
<td>API command arguments</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: Command's return value</p>
<p><strong>Example</strong></p>
<div class="codehilite"><pre><span></span><span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;138R53t3ZW7KDfSfxVpWUsMXgwUnsDNXLP&quot;</span><span class="p">,</span> <span class="s2">&quot;siteSetLimit&quot;</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span> <span class="p">)</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="nx">address</span> <span class="o">=</span> <span class="s2">&quot;138R53t3ZW7KDfSfxVpWUsMXgwUnsDNXLP&quot;</span>
<span class="nx">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT * FROM json WHERE file_name = :file_name&quot;</span>
<span class="nx">params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;file_name&quot;</span><span class="o">:</span> <span class="s2">&quot;data.json&quot;</span><span class="p">}</span>
<span class="nx">Page</span><span class="p">.</span><span class="nx">cmd</span><span class="p">(</span><span class="s2">&quot;as&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">address</span><span class="p">,</span> <span class="s2">&quot;dbQuery&quot;</span><span class="p">,</span> <span class="p">[</span><span class="nx">query</span><span class="p">,</span> <span class="nx">params</span><span class="p">]],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span> <span class="p">{</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">}</span> <span class="p">)</span>
</pre></div>


<hr />
<p><strong>Return</strong>: ok</p>
<h3 id="configset">configSet<a class="headerlink" href="#configset" title="Permanent link">&para;</a></h3>
<p>Create or update an entry in ZeroNet config file. (zeronet.conf by default)</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>key</strong></td>
<td>Configuration entry name</td>
</tr>
<tr>
<td><strong>value</strong></td>
<td>Configuration entry new value</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: ok</p>
<hr />
<h3 id="certset">certSet<a class="headerlink" href="#certset" title="Permanent link">&para;</a></h3>
<p>Set the used certificate for current site.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>domain</strong></td>
<td>Domain of the certificate issuer</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<hr />
<h3 id="channeljoinallsite">channelJoinAllsite<a class="headerlink" href="#channeljoinallsite" title="Permanent link">&para;</a></h3>
<p>Request notifications about every site's events.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>channel</strong></td>
<td>Channel to join (see channelJoin)</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<hr />
<h3 id="serverportcheck">serverPortcheck<a class="headerlink" href="#serverportcheck" title="Permanent link">&para;</a></h3>
<p>Start checking if port is opened</p>
<p><strong>Return</strong>: True (port opened) or False (port closed)</p>
<hr />
<h3 id="servershutdown">serverShutdown<a class="headerlink" href="#servershutdown" title="Permanent link">&para;</a></h3>
<p>Stop running ZeroNet client.</p>
<p><strong>Return</strong>: None</p>
<hr />
<h3 id="serverupdate">serverUpdate<a class="headerlink" href="#serverupdate" title="Permanent link">&para;</a></h3>
<p>Re-download ZeroNet from github.</p>
<p><strong>Return</strong>: None</p>
<hr />
<h3 id="siteclone">siteClone<a class="headerlink" href="#siteclone" title="Permanent link">&para;</a></h3>
<p>Copy site files into a new one.</p>
<p>Every file and directory will be skipped if it has a <code>-default</code> subfixed version and the subfixed version will be copied instead of it.</p>
<p>Eg. If you have a <code>data</code> and a <code>data-default</code> directory: The <code>data</code> directory will not be copied and the <code>data-default</code> directory will be renamed to data.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>Address of site want to clone</td>
</tr>
<tr>
<td><strong>root_inner_path</strong></td>
<td>The source directory of the new site</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None, automatically redirects to new site on completion</p>
<hr />
<h3 id="sitelist">siteList<a class="headerlink" href="#sitelist" title="Permanent link">&para;</a></h3>
<p><strong>Return</strong>: <list> SiteInfo list of all downloaded sites</p>
<hr />
<h3 id="sitepause">sitePause<a class="headerlink" href="#sitepause" title="Permanent link">&para;</a></h3>
<p>Pause site serving</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>Address of site want to pause</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None</p>
<hr />
<h3 id="siteresume">siteResume<a class="headerlink" href="#siteresume" title="Permanent link">&para;</a></h3>
<p>Resume site serving</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>address</strong></td>
<td>Address of site want to resume</td>
</tr>
</tbody>
</table>
<p><strong>Return</strong>: None </p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../getting_started/" title="Commencer" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Précédent
                </span>
                Commencer
              </span>
            </div>
          </a>
        
        
          <a href="../content_json/" title="Structure of content.json" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Suivant
                </span>
                Structure of content.json
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.6e01afa6.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
                <script src="../../../assets/javascripts/lunr/lunr.fr.js"></script>
              
            
          
          
        
      
      <script type="text/javascript">
        console.log("fr")
      </script>
      
        <script>app.initialize({version:"1.0.4",url:{base:"../../..", search_index_suffix: "fr"}})</script>
      
      
        <script src="../../../docs.js"></script>
      
        <script src="../../../jquery.min.js"></script>
      
        <script src="../../../javascript/menu.js"></script>
      
        <script src="../../../javascript/bitcoinbar.js"></script>
      
    
    
      
    
  </body>
</html>